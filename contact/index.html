<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>お問い合わせ | RandaWorks</title>
  <meta name="description" content="RandaWorksへのお問い合わせフォーム。" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Shippori+Mincho:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body>
  <div class="container">
    <div class="nav">
      <div class="brand"><a href="../">RandaWorks</a></div>
      <div class="links">
        <a href="../games/">Games</a>
        <a href="../games/inga/">日本史因果クロニクル</a>
      </div>
    </div>

    <div class="card">
      <h1>お問い合わせ</h1>
      <p class="muted">
        返信先メールアドレスは正確に入力してください。<br />
        直接メールする場合は <a href="mailto:contact@randaworks.com">contact@randaworks.com</a> へお願いします。
      </p>

      <div class="alert alert-error" id="formError" hidden>
        送信に失敗しました。時間をおいて再度お試しください。<br />
        うまくいかない場合は <a href="mailto:contact@randaworks.com">contact@randaworks.com</a> までご連絡ください。
      </div>

      <form
        class="form"
        id="contactForm"
        method="POST"
        action="https://formsubmit.co/contact@randaworks.com"
        accept-charset="UTF-8"
      >
        <!-- FormSubmit.co 設定 -->
        <input type="hidden" name="_subject" value="[RandaWorks] お問い合わせ">
        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="https://www.randaworks.com/contact/thanks.html">
        <input type="hidden" name="_template" value="table">

        <!-- Honeypot: ボット対策 -->
        <input type="text" name="_honey" style="display:none">

        <div class="field">
          <label for="name">お名前</label>
          <input id="name" name="name" type="text" autocomplete="name" maxlength="80" />
        </div>

        <div class="field">
          <label for="email">メールアドレス <span class="muted">(必須)</span></label>
          <input id="email" name="email" type="email" autocomplete="email" required maxlength="254" />
        </div>

        <div class="field">
          <label for="message">お問い合わせ内容 <span class="muted">(必須)</span></label>
          <textarea id="message" name="message" required rows="7" maxlength="5000"></textarea>
        </div>

        <p class="muted" style="font-size: 0.85rem;">
          ※個人開発のため、すべてのお問い合わせに返信できない場合があります。返信までお時間をいただく場合があります。
        </p>

        <p class="muted">
          送信により、<a href="../privacy/">プライバシーポリシー</a>に同意したものとみなします。
        </p>

        <div class="form-actions">
          <button class="cta" id="submitBtn" type="submit">送信する</button>
          <span class="muted" id="sendingNote" hidden>送信中...</span>
        </div>

        <noscript>
          <p class="muted">
            ※JavaScriptが無効な場合、送信後はFormSubmit.coの完了画面が表示されます。
          </p>
        </noscript>
      </form>
    </div>

    <div class="footer">
      <div>© 2026 RandaWorks</div>
    </div>
  </div>

  <script>
    (function () {
      var form = document.getElementById('contactForm');
      var btn = document.getElementById('submitBtn');
      var note = document.getElementById('sendingNote');
      var err = document.getElementById('formError');

      if (!form) return;

      form.addEventListener('submit', async function (e) {
        e.preventDefault();

        err.hidden = true;
        btn.disabled = true;
        note.hidden = false;

        try {
          var resp = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
          });

          if (!resp.ok) throw new Error('bad_status');

          window.location.href = './thanks.html';
        } catch (ex) {
          err.hidden = false;
          btn.disabled = false;
          note.hidden = true;
        }
      });
    })();
  </script>
</body>
</html>
